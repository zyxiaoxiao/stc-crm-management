import{b as _,c as S,K as P,P as ae,j as f,t as y,g as r,D as G,F as z,I as m,i as o,Z as R,a1 as V,h as s,W as ce,N as T,a2 as K,a3 as ie,a4 as re,G as F,u as I,f as $,r as E,o as J,l as _e,J as ue,k as p,X as de,m as w,p as A,q as D,a5 as pe,a6 as fe,w as X,e as O,R as me,E as ge,H as he,Y as ve,a7 as be,a8 as ye,a9 as we}from"./index-93018481.js";import{_ as xe,M as j,T as Q}from"./tabs-66f4c800.js";import{h as Se,i as ke,g as $e}from"./util-e879685f.js";import{_ as k}from"./_plugin-vue_export-helper-361d09b5.js";const Ce={class:"logo flx-center"},Ee=f("img",{src:xe,alt:"logo"},null,-1),Le={__name:"Logo",props:{isCollapse:Boolean},setup(l){return(t,e)=>(_(),S("div",Ce,[Ee,P(f("span",null,y(t.$t("logoText2")),513),[[ae,!l.isCollapse]])]))}};const Te={class:"menu-i-span"},Fe={class:"menu-i-span"},Me={__name:"SubItem",props:{menuList:Array},setup(l){return(t,e)=>{const i=r("el-icon"),a=r("List"),c=r("SubItem",!0),u=r("el-sub-menu"),d=r("el-menu-item");return _(!0),S(z,null,G(l.menuList,n=>(_(),S(z,{key:n.path},[n.children&&n.children.length>0?(_(),m(u,{key:0,index:n.path},{title:o(()=>[n.iconclass?(_(),S("i",{key:0,style:{"margin-right":"10px","font-size":"18px"},class:R(["iconfont",n.iconclass])},null,2)):n.icon?(_(),m(i,{key:1},{default:o(()=>[(_(),m(V(n.icon)))]),_:2},1024)):(_(),m(i,{key:2},{default:o(()=>[s(a)]),_:1})),f("span",Te,y(t.$t(n.title)),1)]),default:o(()=>[s(c,{menuList:n.children},null,8,["menuList"])]),_:2},1032,["index"])):(_(),m(d,{key:1,index:n.path},ce({default:o(()=>[n.iconclass?(_(),S("i",{key:0,style:{"margin-right":"10px","font-size":"18px"},class:R(["iconfont",n.iconclass])},null,2)):T("",!0),n.icon?(_(),m(i,{key:1},{default:o(()=>[(_(),m(V(n.icon)))]),_:2},1024)):T("",!0)]),_:2},[n.isLink?{name:"title",fn:o(()=>[f("a",{class:"menu-href menu-i-span",href:n.isLink,target:"_blank"},y(t.$t(n.title)),9,["href"])])}:{name:"title",fn:o(()=>[f("span",Fe,y(t.$t(n.title)),1)])}]),1032,["index"]))],64))),128)}}},ze=k(Me,[["__scopeId","data-v-7a4eefdf"]]),Re=`
<path class="path" d="
	M 30 15
	L 28 17
	M 25.61 25.61
	A 15 15, 0, 0, 1, 15 30
	A 15 15, 0, 1, 1, 27.99 7.5
	L 15 15
" style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
`;const Ve=["element-loading-spinner"],Ie={__name:"index",setup(l){const t=K(),e=j(),i=ie(),a=re();a.setBodyHeight(document.body.clientHeight);const c=F(),u=I();let d=$(()=>u.locale.value=="zh"?"220px":"330px");const n=E(!1);J(async()=>{n.value=!0;try{const L=await Se.post("/core/user/role!selectMenuVUETree.action",_e.stringify({"cond.usercode":c.userInfo.usercode}),{headers:{noLoading:!0}});if(!L)return;const C=ke(L);i.setAuthRouter(C),e.setMenuList(L)}finally{n.value=!1}});const h=$(()=>t.path),g=$(()=>e.isCollapse),x=$(()=>e.menuList),v=E(0);return(()=>{window.onresize=()=>(()=>{v.value=document.body.clientWidth,g.value===!1&&v.value<1200&&e.setCollapse(),g.value===!0&&v.value>1200&&e.setCollapse(),a.setBodyHeight(document.body.clientHeight)})()})(),(L,C)=>{const oe=r("el-menu"),le=r("el-scrollbar"),se=ue("loading");return P((_(),S("div",{class:"menu",style:de({width:p(g)?"65px":p(d)}),"element-loading-text":"Loading...","element-loading-spinner":p(Re),"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.01)"},[s(Le,{isCollapse:p(g)},null,8,["isCollapse"]),s(le,null,{default:o(()=>[s(oe,{"default-active":p(h),router:!0,collapse:p(g),"collapse-transition":!1,"unique-opened":!0,"background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409eff"},{default:o(()=>[s(ze,{menuList:p(x)},null,8,["menuList"])]),_:1},8,["default-active","collapse"])]),_:1})],12,Ve)),[[se,n.value]])}}};const Ae={__name:"CollapseIcon",setup(l){const t=j(),e=$(()=>t.isCollapse);return(i,a)=>(_(),S("div",{onClick:a[0]||(a[0]=c=>p(t).setCollapse()),class:"screen-full"},[f("i",{class:R(["collapse-icon iconfont",p(e)?"layui-icon-extend-caidanyou":"layui-icon-extend-caidanzuo"])},null,2)]))}},De=k(Ae,[["__scopeId","data-v-ea294941"]]);const Be=l=>(A("data-v-b988838f"),l=l(),D(),l),Ne=Be(()=>f("i",{class:"iconfont layui-icon-extend-zhongyingwen icon-style"},null,-1)),He=w("\u7B80\u4F53\u4E2D\u6587"),Oe=w("English"),qe={__name:"Language",setup(l){const t=I(),e=F(),i=$(()=>e.language),a=c=>{t.locale.value=c,e.updateLanguage(c)};return J(()=>{a(i.value||$e())}),(c,u)=>{const d=r("el-tooltip"),n=r("el-dropdown-item"),h=r("el-dropdown-menu"),g=r("el-dropdown");return _(),m(g,{class:"screen-full",trigger:"click",onCommand:a},{dropdown:o(()=>[s(h,null,{default:o(()=>[s(n,{disabled:p(i)&&p(i)==="zh",command:"zh"},{default:o(()=>[He]),_:1},8,["disabled"]),s(n,{disabled:p(i)==="en",command:"en"},{default:o(()=>[Oe]),_:1},8,["disabled"])]),_:1})]),default:o(()=>[f("span",null,[s(d,{effect:"dark",content:"\u56FD\u9645\u5316",placement:"bottom"},{default:o(()=>[Ne]),_:1})])]),_:1})}}},We=k(qe,[["__scopeId","data-v-b988838f"]]);var q;const M=typeof window<"u",Ue=l=>typeof l=="string",B=()=>{};M&&((q=window==null?void 0:window.navigator)==null?void 0:q.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Y(l){return pe()?(fe(l),!0):!1}function Z(l){var t;const e=p(l);return(t=e==null?void 0:e.$el)!=null?t:e}const Pe=M?window:void 0,Ge=M?window.document:void 0;M&&window.navigator;M&&window.location;function Ke(...l){let t,e,i,a;if(Ue(l[0])?([e,i,a]=l,t=Pe):[t,e,i,a]=l,!t)return B;let c=B;const u=X(()=>Z(t),n=>{c(),n&&(n.addEventListener(e,i,a),c=()=>{n.removeEventListener(e,i,a),c=B})},{immediate:!0,flush:"post"}),d=()=>{u(),c()};return Y(d),d}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H="__vueuse_ssr_handlers__";N[H]=N[H]||{};N[H];const W=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function Je(l,t={}){const{document:e=Ge,autoExit:i=!1}=t,a=l||(e==null?void 0:e.querySelector("html")),c=E(!1);let u=!1,d=W[0];if(!e)u=!1;else for(const C of W)if(C[1]in e){d=C,u=!0;break}const[n,h,g,,x]=d;async function v(){!u||(e!=null&&e[g]&&await e[h](),c.value=!1)}async function b(){if(!u)return;await v();const C=Z(a);C&&(await C[n](),c.value=!0)}async function L(){c.value?await v():await b()}return e&&Ke(e,x,()=>{c.value=!!(e!=null&&e[g])},!1),i&&Y(v),{isSupported:u,isFullscreen:c,enter:b,exit:v,toggle:L}}var U;(function(l){l.UP="UP",l.RIGHT="RIGHT",l.DOWN="DOWN",l.LEFT="LEFT",l.NONE="NONE"})(U||(U={}));const Xe={__name:"Fullscreen",setup(l){const{toggle:t,isFullscreen:e}=Je();return(i,a)=>{const c=r("el-tooltip");return _(),m(c,{effect:"dark",content:p(e)?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",placement:"bottom"},{default:o(()=>[f("i",{class:R(["screen-full icon-style",["iconfont",p(e)?"layui-icon-extend-quanpingsuoxiao":"layui-icon-extend-quanpingxianshi"]]),onClick:a[0]||(a[0]=(...u)=>p(t)&&p(t)(...u))},null,2)]),_:1},8,["content"])}}},je=k(Xe,[["__scopeId","data-v-5f2cca14"]]),Qe=f("span",null,"This is userInfo",-1),Ye={__name:"InfoDialog",setup(l,{expose:t}){const e=E(!1);return t({openDialog:()=>{e.value=!0}}),(a,c)=>{const u=r("el-dialog");return _(),m(u,{modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d),title:a.$t("header.personalData"),width:"500px",draggable:""},{default:o(()=>[Qe]),_:1},8,["modelValue","title"])}}},Ze=f("span",null,"This is Password",-1),en={class:"dialog-footer"},nn=w("\u53D6\u6D88"),tn=w("\u786E\u8BA4"),on={__name:"PasswordDialog",setup(l,{expose:t}){const e=E(!1);return t({openDialog:()=>{e.value=!0}}),(a,c)=>{const u=r("el-button"),d=r("el-dialog");return _(),m(d,{modelValue:e.value,"onUpdate:modelValue":c[2]||(c[2]=n=>e.value=n),title:a.$t("header.changePassword"),width:"500px",draggable:""},{footer:o(()=>[f("span",en,[s(u,{onClick:c[0]||(c[0]=n=>e.value=!1)},{default:o(()=>[nn]),_:1}),s(u,{type:"primary",onClick:c[1]||(c[1]=n=>e.value=!1)},{default:o(()=>[tn]),_:1})])]),default:o(()=>[Ze]),_:1},8,["modelValue","title"])}}};const ee=l=>(A("data-v-a813c85f"),l=l(),D(),l),ln={class:"screen-full username"},sn=ee(()=>f("i",{class:"iconfont layui-icon-extend-tuichu"},null,-1)),an=ee(()=>f("span",{style:{"margin-left":"5px"}},"\u767B\u51FA",-1)),cn=[sn,an],rn={__name:"Avatar",setup(l){const t=O(),e=F();I();const i=E(null),a=E(null);let c=E(e.userInfo.corpdesc+" ( "+e.userInfo.usercode+" ) "+e.userInfo.userdesc);const u=()=>{me.confirm("\u60A8\u662F\u5426\u786E\u8BA4\u9000\u51FA\u767B\u5F55?","\u6E29\u99A8\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{t.push({name:"login"}),e.setToken(""),ge({type:"success",message:"\u9000\u51FA\u767B\u5F55\u6210\u529F\uFF01"})})};return(d,n)=>{const h=r("el-dropdown-item"),g=r("el-dropdown-menu"),x=r("el-dropdown");return _(),S(z,null,[s(x,{trigger:"click"},{dropdown:o(()=>[s(g,null,{default:o(()=>[s(h,{onClick:n[0]||(n[0]=v=>d.openDialog("infoRef"))},{default:o(()=>[w(y(d.$t("header.personalData")),1)]),_:1}),s(h,{onClick:n[1]||(n[1]=v=>d.openDialog("passwordRef"))},{default:o(()=>[w(y(d.$t("header.changePassword")),1)]),_:1})]),_:1})]),default:o(()=>[f("div",ln,y(p(c)),1)]),_:1}),s(Ye,{ref_key:"infoRef",ref:i},null,512),s(on,{ref_key:"passwordRef",ref:a},null,512),f("div",{class:"logOut screen-full",onClick:u},cn)],64)}}},_n=k(rn,[["__scopeId","data-v-a813c85f"]]);const un=l=>(A("data-v-9b785d1c"),l=l(),D(),l),dn=un(()=>f("i",{class:"screen-full icon-style iconfont layui-icon-extend-contentright"},null,-1)),pn={__name:"componentSize",setup(l){I();const t=F(),e=$(()=>t.assemblySize),i=a=>{t.setAssemblySizeSize(a)};return(a,c)=>{const u=r("el-dropdown-item"),d=r("el-dropdown-menu"),n=r("el-dropdown"),h=r("el-tooltip");return _(),m(h,{effect:"dark",content:a.$t("header.componentSize"),placement:"bottom"},{default:o(()=>[s(n,{trigger:"click",onCommand:i},{dropdown:o(()=>[s(d,null,{default:o(()=>[s(u,{disabled:p(e)==="large",command:"large"},{default:o(()=>[w(y(a.$t("header.large")),1)]),_:1},8,["disabled"]),s(u,{disabled:p(e)==="default",command:"default"},{default:o(()=>[w(y(a.$t("header.default")),1)]),_:1},8,["disabled"]),s(u,{disabled:p(e)==="small",command:"small"},{default:o(()=>[w(y(a.$t("header.small")),1)]),_:1},8,["disabled"])]),_:1})]),default:o(()=>[dn]),_:1})]),_:1},8,["content"])}}},fn=k(pn,[["__scopeId","data-v-9b785d1c"]]);const mn={class:"header"},gn={class:"header-lf flx-center"},hn={class:"header-ri flx-center"},vn={__name:"index",setup(l){return(t,e)=>(_(),S("div",mn,[f("div",gn,[s(De)]),f("div",hn,[s(je),s(fn),s(We),s(_n)])]))}},bn=k(vn,[["__scopeId","data-v-fa802391"]]);const yn={__name:"MoreButton",setup(l){const t=Q(),e=()=>{t.tabsMenuValue!==he&&t.removeTabs(t.tabsMenuValue)},i=()=>{t.closeMultipleTab(t.tabsMenuValue)},a=()=>{t.closeMultipleTab(),t.goHome()};return(c,u)=>{const d=r("arrow-down"),n=r("el-icon"),h=r("el-button"),g=r("el-dropdown-item"),x=r("el-dropdown-menu"),v=r("el-dropdown");return _(),m(v,{trigger:"click"},{dropdown:o(()=>[s(x,null,{default:o(()=>[s(g,{onClick:e},{default:o(()=>[w(y(c.$t("tabs.closeCurrent")),1)]),_:1}),s(g,{onClick:i},{default:o(()=>[w(y(c.$t("tabs.closeOther")),1)]),_:1}),s(g,{onClick:a},{default:o(()=>[w(y(c.$t("tabs.closeAll")),1)]),_:1})]),_:1})]),default:o(()=>[s(h,{size:"small",type:"primary"},{default:o(()=>[f("span",null,y(c.$t("tabs.more")),1),s(n,{class:"el-icon--right"},{default:o(()=>[s(d)]),_:1})]),_:1})]),_:1})}}},wn=k(yn,[["__scopeId","data-v-5eb464ba"]]);const xn={class:"tabs-box"},Sn={class:"tabs-menu"},kn={__name:"index",setup(l){const t=Q(),e=$(()=>t.tabsMenuList),i=$({get:()=>t.tabsMenuValue,set:n=>{t.setTabsMenuValue(n)}}),a=K(),c=O();X(()=>a.path,()=>{let n={title:a.meta.title,path:a.path,close:!0};t.addTabs(n)},{immediate:!0});const u=n=>{let h=n.props.name;c.push(h)},d=n=>{t.removeTabs(n)};return(n,h)=>{const g=r("el-icon"),x=r("el-tab-pane"),v=r("el-tabs");return _(),S("div",xn,[f("div",Sn,[s(v,{modelValue:p(i),"onUpdate:modelValue":h[0]||(h[0]=b=>ve(i)?i.value=b:null),type:"card",onTabClick:u,onTabRemove:d},{default:o(()=>[(_(!0),S(z,null,G(p(e),b=>(_(),m(x,{key:b.path,path:b.path,label:b.title,name:b.path,closable:b.close},{label:o(()=>[b.icon?(_(),m(g,{key:0,class:"tabs-icon"},{default:o(()=>[(_(),m(V(b.icon)))]),_:2},1024)):T("",!0),w(" "+y(n.$t(b.title)),1)]),_:2},1032,["path","label","name","closable"]))),128))]),_:1},8,["modelValue"]),s(wn)])])}}},$n=k(kn,[["__scopeId","data-v-12422c79"]]);const Cn={},En=l=>(A("data-v-09a79f3c"),l=l(),D(),l),Ln={class:"footer flx-center"},Tn=En(()=>f("a",{href:"http://www.spicyboy.cn/",target:"_blank"}," 2022 \xA9\u4E1C\u839E\u6807\u68C0\u4EA7\u54C1\u68C0\u6D4B\u6709\u9650\u516C\u53F8 ",-1)),Fn=[Tn];function Mn(l,t){return _(),S("div",Ln,Fn)}const zn=k(Cn,[["render",Mn],["__scopeId","data-v-09a79f3c"]]);let ne=[];const te=(l,t)=>{l.forEach(e=>{let i=!1;try{i=e.meta.keepAlive}catch{i=!1}i&&e.name&&t.push(e.name),e.children&&e.children.length!==0&&te(e.children,t)})};te(be,ne);const Rn={__name:"index",setup(l){const t=O(),e=F(),i=$(()=>e.themeConfig);return setInterval(()=>{JSON.parse(localStorage.getItem("GlobalState")).token!==e.token&&t.push({name:"login"})},2e3),(a,c)=>{const u=r("el-aside"),d=r("el-header"),n=r("router-view"),h=r("el-main"),g=r("el-footer"),x=r("el-container");return _(),m(x,null,{default:o(()=>[s(u,null,{default:o(()=>[s(Ie)]),_:1}),s(x,null,{default:o(()=>[s(d,null,{default:o(()=>[s(bn),p(i).tabs?(_(),m($n,{key:0})):T("",!0)]),_:1}),s(h,null,{default:o(()=>[s(n,null,{default:o(({Component:v,route:b})=>[s(ye,{appear:"",name:"fade-transform",mode:"out-in"},{default:o(()=>[(_(),m(we,{include:p(ne)},[(_(),m(V(v),{key:b.path}))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1}),p(i).footer?(_(),m(g,{key:0},{default:o(()=>[s(zn)]),_:1})):T("",!0)]),_:1})]),_:1})}}},Bn=k(Rn,[["__scopeId","data-v-5bea42e2"]]);export{Bn as default};
