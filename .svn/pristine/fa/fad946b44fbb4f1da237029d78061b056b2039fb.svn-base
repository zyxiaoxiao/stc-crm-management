import{u as M,a as c,r as m,o as P,g as b,J as A,b as f,c as h,h as o,i as a,m as T,t as D,K as C,R as N,l as U,E as K}from"./index-93018481.js";import{a as L,h as R}from"./util-e879685f.js";import{z as V,_ as x}from"./ZDialog-43cdd841.js";import{c as J}from"./custInfo_user_public-b2ae9603.js";import{_ as O}from"./customer_attribution_information-d12a49c5.js";import{_ as Q}from"./_plugin-vue_export-helper-361d09b5.js";import"./moment-da921422.js";import"./fileUtil-a1d39237.js";import"./company_detail_bg_readonly-84aff5a9.js";import"./track_detail-e4407526.js";import"./uploadAttachment-04d897fd.js";const Y={class:"all-height flex-column main-card"},F={__name:"customer_details_information",setup(G){const r=M(),y=L("customer_customertype"),w=L("whether");let g=[{label:"tltilecolumndeptlevelbloc",value:"bloc"},{label:"tltilecolumndeptlevelbranch",value:"branch"},{label:"tltilecolumndeptlevelordinary",value:"ordinary"}];const l=c({dialogShow:!1,corpid:"",tableTabsValue:0}),p=c({dialogShow:!1,corpid:"",arrayList:[]}),s=m(),z=c({httpAttribute:{url:"/mylims/enterpriseinfo/enterpriseinfo!selectCustomerDetailsInformation.action",root:"enterpriseInfos",baseParams:{"cond.auditflag":"2","cond.discardflag":"0","cond.allqueries":"Y"}},tableColumns:[{type:"selection",width:"40"},{title:"\u5BA2\u6237\u53F7",label:"fieldcolumncustomercode",prop:"corpno",type:"Input",width:"160"},{title:"\u65E7\u5BA2\u6237\u53F7",label:"fieldcolumncustomercodeold",prop:"corpnoold",type:"Input",width:"160"},{title:"\u5BA2\u6237\u540D\u79F0",label:"panelcolumncustomername",prop:"corpdesc",type:"Link",width:"160"},{title:"\u5BA2\u6237\u7C7B\u522B",label:"corpinfopanelkhlbtitle",prop:"corptype",type:"Select",width:"185",typeData:y},{title:"\u5F52\u5C5E\u7EA7\u522B",label:"columnlevelattribution",prop:"deptlevel",type:"Select",width:"185",typeData:g},{title:"\u5F52\u5C5E\u5206\u516C\u53F8",label:"corpinfoSubordinateToBranchtitle",prop:"branchcorpdesc",type:"Input",width:"200"},{title:"\u5F52\u5C5E\u90E8\u95E8",label:"corpinfopaneldepartmentdesctitle",prop:"departmentdesc",type:"Input",width:"200"},{title:"\u662F\u5426\u9501\u5B9A",label:"itemtitlebase_userlockflag",prop:"lockflag",type:"Select",width:"185",typeData:w},{title:"\u6240\u5C5ESE",label:"columnbaseblongtose",prop:"salesmandesc",type:"Input",width:"200"},{title:"PKM \u5BA2\u6237\u533A\u57DF",label:"customerapplicationinvoice_format",prop:"invoiceformat",type:"Input",width:"160"},{title:"\u4EE3\u7406\u5546\u540D\u79F0",label:"corpinfopaneldlsmctitle",prop:"agentdesc",type:"Input",width:"160"},{title:"\u7535\u8BDD",label:"itemtitlebase_usertel",prop:"corpphone",type:"Input",width:"160"},{title:"\u7535\u5B50\u90AE\u4EF6",label:"corpinfopanelemailtitle",prop:"corpemail",type:"Input",width:"160"},{title:"\u5730\u5740",label:"columnAddress",prop:"corplocation",type:"Input",width:"160"},{title:"\u9500\u552E\u4EE3\u7406\u63D0\u4F63\u70B9(%)",label:"itemtitlefoldersagentbrokerage",prop:"agentbrokerage",type:"Number",width:"208"},{title:"\u521B\u5EFA\u4EBA",label:"corpinfopanelcjrtitle",prop:"recorderdesc",type:"Input",width:"160"},{title:"\u521B\u5EFA\u65F6\u95F4",label:"itemtitlestatusrecordertime",prop:"recordtime",type:"DateTime",width:"160"},{title:"\u8425\u4E1A\u6267\u7167\u6709\u6548\u671F\u81F3",label:"corpinfopanelyyzzyxqztitle",prop:"licensedate",type:"Input",width:"160",isHide:!0},{title:"protection",label:"",prop:"protection",type:"Input",width:"160",isHide:!0},{title:"id",label:"",prop:"corpid",type:"id",width:"60",isHide:!0},{title:"\u53D8\u66F4id",label:"corpinfopanelqyidtitle",prop:"corpbgid",type:"Input",width:"60",isHide:!0},{title:"\u64CD\u4F5C",label:"itemtitleloginoperation",prop:"operation",type:"operation",fixed:"right"}],tableData:[]}),_=m(),q=c({httpAttribute:{url:"/mylims/enterpriseinfo/enterpriseinfo!selectCustomerDetailsInformation.action",root:"enterpriseInfos",baseParams:{"cond.auditflag":"2","cond.discardflag":"1","cond.allqueries":"Y"}},tableColumns:[{type:"selection",width:"40"},{title:"\u5BA2\u6237\u53F7",label:"fieldcolumncustomercode",prop:"corpno",type:"Input",width:"160"},{title:"\u65E7\u5BA2\u6237\u53F7",label:"fieldcolumncustomercodeold",prop:"corpnoold",type:"Input",width:"160"},{title:"\u5BA2\u6237\u540D\u79F0",label:"panelcolumncustomername",prop:"corpdesc",type:"Link",width:"160"},{title:"\u5BA2\u6237\u7C7B\u522B",label:"corpinfopanelkhlbtitle",prop:"corptype",type:"Select",width:"185",typeData:y},{title:"\u5F52\u5C5E\u7EA7\u522B",label:"columnlevelattribution",prop:"deptlevel",type:"Select",width:"185",typeData:g},{title:"\u5F52\u5C5E\u5206\u516C\u53F8",label:"corpinfoSubordinateToBranchtitle",prop:"branchcorpdesc",type:"Input",width:"200"},{title:"\u5F52\u5C5E\u90E8\u95E8",label:"corpinfopaneldepartmentdesctitle",prop:"departmentdesc",type:"Input",width:"200"},{title:"\u662F\u5426\u9501\u5B9A",label:"itemtitlebase_userlockflag",prop:"lockflag",type:"Select",width:"185",typeData:w},{title:"\u6240\u5C5ESE",label:"columnbaseblongtose",prop:"salesmandesc",type:"Input",width:"200"},{title:"PKM \u5BA2\u6237\u533A\u57DF",label:"customerapplicationinvoice_format",prop:"invoiceformat",type:"Input",width:"160"},{title:"\u4EE3\u7406\u5546\u540D\u79F0",label:"corpinfopaneldlsmctitle",prop:"agentdesc",type:"Input",width:"160"},{title:"\u7535\u8BDD",label:"itemtitlebase_usertel",prop:"corpphone",type:"Input",width:"160"},{title:"\u7535\u5B50\u90AE\u4EF6",label:"corpinfopanelemailtitle",prop:"corpemail",type:"Input",width:"160"},{title:"\u5730\u5740",label:"columnAddress",prop:"corplocation",type:"Input",width:"160"},{title:"\u9500\u552E\u4EE3\u7406\u63D0\u4F63\u70B9(%)",label:"itemtitlefoldersagentbrokerage",prop:"agentbrokerage",type:"Number",width:"208"},{title:"\u521B\u5EFA\u4EBA",label:"corpinfopanelcjrtitle",prop:"recorderdesc",type:"Input",width:"160"},{title:"\u521B\u5EFA\u65F6\u95F4",label:"itemtitlestatusrecordertime",prop:"recordtime",type:"DateTime",width:"160"},{title:"\u8425\u4E1A\u6267\u7167\u6709\u6548\u671F\u81F3",label:"corpinfopanelyyzzyxqztitle",prop:"licensedate",type:"Input",width:"160",isHide:!0},{title:"protection",label:"",prop:"protection",type:"Input",width:"160",isHide:!0},{title:"id",label:"",prop:"corpid",type:"id",width:"60",isHide:!0},{title:"\u53D8\u66F4id",label:"corpinfopanelqyidtitle",prop:"corpbgid",type:"Input",width:"60",isHide:!0},{title:"\u5E9F\u5F03\u4EBA",label:"corpinfopanelfqrdesctitle",prop:"abandonederdesc",type:"Input",width:"160"},{title:"\u5E9F\u5F03\u65F6\u95F4",label:"corpinfopanelfqtimetitle",prop:"abandonedertime",type:"DateTime",width:"160"},{title:"\u5E9F\u5F03\u4EBA\u7F16\u7801",label:"corpinfopanelfqrcodetitle",prop:"abandonedercode",type:"Input",width:"60",isHide:!0},{title:"\u64CD\u4F5C",label:"itemtitleloginoperation",prop:"operation",type:"operation",fixed:"right"}],tableData:[]}),H=(t,e)=>{l.corpid=e.corpid,l.tableTabsValue=0,l.dialogShow=!0},I=t=>{l.corpid=t.corpid,l.tableTabsValue=8,l.dialogShow=!0},E=()=>{let t=p.arrayList;t.length>0&&N.confirm(r.t("Message_RemoveToPublic"),r.t("reminder"),{confirmButtonText:r.t("menu_ok"),cancelButtonText:r.t("menu_cancel"),type:"warning",draggable:!0}).then(async()=>{let e="";for(let u of t)e+=u.corpcode+",";e&&(e=e.substr(0,e.length-1));let n={jsonString:JSON.stringify({corpids:[p.corpid]}),"cond.corpStr":e};await R.post("/mylims/enterpriseinfo/enterpriseinfo!updateCustomerSwitchingPublicInformation.action",U.stringify(n))&&(K.success(r.t("Message_OperationSuccess")),s.value.getTableList())})},$=(t,e)=>{l.corpid=e.corpid,l.tableTabsValue=0,l.dialogShow=!0},v=m("0"),S=new Set,j=t=>{switch(t){case"1":S.has("1")||_.value.getTableList();break}S.add(t)};return P(()=>{s.value.getTableList()}),(t,e)=>{const n=b("el-button"),d=b("el-tab-pane"),u=b("el-tabs"),k=A("dialogStretching");return f(),h("div",Y,[o(u,{class:"flex-column flex-1 main-card-tabs",modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=i=>v.value=i),onTabChange:j},{default:a(()=>[o(d,{title1:"\u5BA2\u6237\u4FE1\u606F\u67E5\u8BE2",label:t.$t("corpinfopanelCustomerInformationQuerytitle"),class:"main-tab-pane-content all-height flex-column",name:"0"},{default:a(()=>[o(V,{ref_key:"zTable1",ref:s,tableList:z,onLinkDetailbg:H},{operation:a(i=>[o(n,{type:"primary",link:"",icon:"Edit",onClick:B=>I(i.row)},{default:a(()=>[T(D(t.$t("corpinfoTrackrecordtitle")),1)]),_:2},1032,["onClick"])]),_:1},8,["tableList"])]),_:1},8,["label"]),o(d,{title1:"\u516C\u53F8\u5E9F\u5F03\u5BA2\u6237\u67E5\u8BE2",label:t.$t("menubasecompanyabandonedinquiries"),class:"main-tab-pane-content all-height flex-column",name:"1"},{default:a(()=>[o(V,{ref_key:"zTable2",ref:_,tableList:q,onLinkDetailbg:$},{operation:a(i=>[o(n,{type:"primary",link:"",icon:"Edit",onClick:B=>I(i.row)},{default:a(()=>[T(D(t.$t("corpinfoTrackrecordtitle")),1)]),_:2},1032,["onClick"])]),_:1},8,["tableList"])]),_:1},8,["label"])]),_:1},8,["modelValue"]),C((f(),h("div",null,[o(x,{modelValue:l.dialogShow,"onUpdate:modelValue":e[1]||(e[1]=i=>l.dialogShow=i),title:"",width:"95%"},{default:a(()=>[o(J,{condobj:l},null,8,["condobj"])]),_:1},8,["modelValue"])])),[[k]]),C((f(),h("div",null,[o(x,{modelValue:p.dialogShow,"onUpdate:modelValue":e[2]||(e[2]=i=>p.dialogShow=i),width:"95%",onClose:E},{default:a(()=>[o(O,{condobj:p},null,8,["condobj"])]),_:1},8,["modelValue"])])),[[k]])])}}},ne=Q(F,[["__scopeId","data-v-ccbd17c3"]]);export{ne as default};
