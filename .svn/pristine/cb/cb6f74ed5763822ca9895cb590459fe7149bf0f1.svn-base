import{d as C,u as k,r as s,a as u,o as N,g as f,b as j,c as A,h as l,i as d,j as x,k as P,l as w,_ as S,$ as g}from"./index-93018481.js";import{h as V}from"./util-e879685f.js";import{z as y}from"./ZDialog-43cdd841.js";const z={class:"all-height flex-column"},E=["innerHTML"],H=C({name:"audit"}),U=Object.assign(H,{props:{auditList:Object},setup(L){const a=L;k();const m=s(0),c=s(),b=s();let v={"cond.codeid":a.auditList.codeid,"cond.tablename":a.auditList.tablename,"cond.columnid":a.auditList.columnid},_=s(""),p=u([]),r=u([]);const I=(e,t,n)=>{const i=document.getElementById(e);i.addEventListener("mouseenter",()=>{let o;t[n]=="\u5F00\u59CB\u4E8B\u4EF61"?o="Start":t[n]=="\u7ED3\u675F\u4E8B\u4EF61"?o="End":o=t[n],g.exports.layer.tips(o,i,{tips:[1,"#55557f"],time:1e4})}),i.addEventListener("mouseleave",()=>{g.exports.layer.closeAll("tips")})};(async()=>{const e=await V.post("/core/activiti/activitimodel!selectSVGOrPng.action",w.stringify(v));!e||(_.value=e.mapObj.svg,p=Object.assign(p,e.mapObj.svgIds),r=Object.assign(r,e.mapObj.idsMsg),S(()=>{p.forEach((t,n,i)=>{I("svg-"+t,r,n)})}))})();const T=u({noLoading:!0,tableToolbar:{whole:!1},httpAttribute:{url:"/core/jbpm3/auditinfo!selectLatestOpinions.action",root:"latestOpinionsList",baseParams:{"cond.id":a.auditList.codeid,"cond.business_table_name":a.auditList.tablename,"cond.business_column_id":a.auditList.columnid,"cond.opinion_table_name":"ACT_SW_AUDITOPINION","cond.business_column_corpcode":"submitcorp"}},tableColumns:[{label:"menu_auditPersonCode",prop:"auditorcode",type:"Input"},{label:"menu_auditPersonName",prop:"auditordesc",type:"Input"},{label:"menu_auditTime",prop:"audittime",type:"Input"},{label:"menu_auditOpinion",prop:"auditcomment",type:"Input"},{label:"menu_auditLevel",prop:"auditlevel2",type:"Input"},{label:"menu_auditNodeName",prop:"auditlevelname",type:"Input"},{label:"menu_auditAction",prop:"decision",type:"Input"}],tableData:[]}),h=u({noLoading:!0,tableToolbar:{whole:!1},httpAttribute:{url:"/core/jbpm3/auditinfo!selectHistoryOpinions.action",root:"historyOpinionsList",baseParams:{"cond.id":a.auditList.codeid,"cond.business_table_name":a.auditList.tablename,"cond.business_column_id":a.auditList.columnid,"cond.opinion_table_name":"ACT_SW_AUDITOPINION","cond.business_column_corpcode":"submitcorp"}},tableColumns:[{label:"menu_auditPersonCode",prop:"auditorcode",type:"Input"},{label:"menu_auditPersonName",prop:"auditordesc",type:"Input"},{label:"menu_auditTime",prop:"audittime",type:"Input"},{label:"menu_auditOpinion",prop:"auditcomment",type:"Input"},{label:"menu_auditLevel",prop:"auditlevel",type:"Input"},{label:"menu_auditNodeName",prop:"auditlevelname",type:"Input"},{label:"menu_auditAction",prop:"decision",type:"Input"},{label:"menu_approvalBatch",prop:"auditround",type:"Input"}],tableData:[]}),O=e=>{e==1&&c.value.getTableList(),e==2&&b.value.getTableList()};return N(()=>{}),(e,t)=>{const n=f("el-tab-pane"),i=f("el-tabs");return j(),A("div",z,[l(i,{class:"flex-column flex-1",style:{overflow:"auto","margin-top":"10px","padding-bottom":"10px"},modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=o=>m.value=o),type:"border-card",onTabClick:e.tabClick,onTabChange:O},{default:d(()=>[l(n,{label:e.$t("menu_flowChartTracking"),style:{overflow:"auto"},name:0},{default:d(()=>[x("div",{onClick:t[0]||(t[0]=(...o)=>e.aaa&&e.aaa(...o)),innerHTML:P(_),style:{"text-align":"center",margin:"30px"}},null,8,E)]),_:1},8,["label"]),l(n,{label:e.$t("menu_auditOpinionList"),name:1,class:"main-tab-pane-content all-height flex-column"},{default:d(()=>[l(y,{ref_key:"zTable1",ref:c,tableList:T},null,8,["tableList"])]),_:1},8,["label"]),l(n,{label:e.$t("menu_historicalAuditOpinionList"),name:2,class:"main-tab-pane-content all-height flex-column"},{default:d(()=>[l(y,{ref_key:"zTable2",ref:b,tableList:h},null,8,["tableList"])]),_:1},8,["label"])]),_:1},8,["modelValue","onTabClick"])])}}});export{U as _};
