import{u as T,a as p,r as S,o as k,g as C,J as I,b as c,c as d,h as r,i as a,m as u,t as m,K as x,R as L,l as z,E as D}from"./index-93018481.js";import{a as b,h as M}from"./util-e879685f.js";import{z as V,_ as B}from"./ZDialog-43cdd841.js";import{c as E}from"./custInfo_user_public-b2ae9603.js";import{_ as H}from"./_plugin-vue_export-helper-361d09b5.js";import"./moment-da921422.js";import"./fileUtil-a1d39237.js";import"./company_detail_bg_readonly-84aff5a9.js";import"./track_detail-e4407526.js";import"./uploadAttachment-04d897fd.js";const $={class:"all-height flex-column main-card",style:{padding:"10px"}},j={__name:"customer_list_public",setup(N){const l=T(),_=b("customer_customertype");b("whether");const e=p({dialogShow:!1,corpid:"",tableTabsValue:0}),n=S(),f=p({httpAttribute:{url:"/mylims/enterpriseinfo/enterpriseinfo!selectCorpPublicList.action",root:"enterpriseInfos",baseParams:{}},tableColumns:[{type:"selection",width:"40"},{title:"\u5BA2\u6237\u53F7",label:"fieldcolumncustomercode",prop:"corpno",type:"Input",width:"160"},{title:"\u65E7\u5BA2\u6237\u53F7",label:"fieldcolumncustomercodeold",prop:"corpnoold",type:"Input",width:"160"},{title:"\u5BA2\u6237\u540D\u79F0",label:"panelcolumncustomername",prop:"corpdesc",type:"Link",width:"160"},{title:"\u5BA2\u6237\u7C7B\u522B",label:"corpinfopanelkhlbtitle",prop:"corptype",type:"Select",width:"185",typeData:_},{title:"\u4EE3\u7406\u5546\u540D\u79F0",label:"corpinfopaneldlsmctitle",prop:"agentdesc",type:"Input",width:"160"},{title:"\u7535\u8BDD",label:"itemtitlebase_usertel",prop:"corpphone",type:"Input",width:"160"},{title:"\u5730\u5740",label:"columnAddress",prop:"corplocation",type:"Input",width:"160"},{title:"\u521B\u5EFA\u4EBA",label:"corpinfopanelcjrtitle",prop:"recorderdesc",type:"Input",width:"160"},{title:"\u521B\u5EFA\u65F6\u95F4",label:"itemtitlestatusrecordertime",prop:"recordtime",type:"DateTime",width:"160"},{title:"\u8425\u4E1A\u6267\u7167\u6709\u6548\u671F\u81F3",label:"corpinfopanelyyzzyxqztitle",prop:"licensedate",type:"Input",width:"160",isHide:!0},{title:"protection",label:"",prop:"protection",type:"Input",width:"160",isHide:!0},{title:"id",label:"",prop:"corpid",type:"id",width:"60",isHide:!0},{title:"\u53D8\u66F4id",label:"corpinfopanelqyidtitle",prop:"corpbgid",type:"Input",width:"60",isHide:!0},{title:"\u64CD\u4F5C",label:"itemtitleloginoperation",prop:"operation",type:"operation",fixed:"right"}],tableData:[]}),y=(t,o)=>{e.corpid=o.corpid,e.tableTabsValue=0,e.dialogShow=!0},g=t=>{e.corpid=t.corpid,e.tableTabsValue=8,e.dialogShow=!0},h=t=>{L.confirm(l.t("Message_ConfirmOperation"),l.t("reminder"),{confirmButtonText:l.t("menu_ok"),cancelButtonText:l.t("menu_cancel"),type:"warning",draggable:!0}).then(async()=>{let o={jsonString:JSON.stringify({corpids:t})};await M.post("/mylims/enterpriseinfo/enterpriseinfo!updateConvertingToMyCustomer.action",z.stringify(o))&&(D.success(l.t("Message_OperationSuccess")),n.value.getTableList())})};return k(()=>{n.value.getTableList()}),(t,o)=>{const s=C("el-button"),w=I("dialogStretching");return c(),d("div",$,[r(V,{ref_key:"zTable1",ref:n,tableList:f,onLinkDetailbg:y},{tableHeaderLleft:a(i=>[r(s,{size:"small",type:"success",icon:"Switch",plain:"",disabled:!i.isSelected,onClick:v=>h(i.ids)},{default:a(()=>[u(m(t.$t("menu_convertingToMyCustomer")),1)]),_:2},1032,["disabled","onClick"])]),operation:a(i=>[r(s,{type:"primary",link:"",icon:"Edit",onClick:v=>g(i.row)},{default:a(()=>[u(m(t.$t("corpinfoTrackrecordtitle")),1)]),_:2},1032,["onClick"])]),_:1},8,["tableList"]),x((c(),d("div",null,[r(B,{modelValue:e.dialogShow,"onUpdate:modelValue":o[0]||(o[0]=i=>e.dialogShow=i),title:"",width:"95%"},{default:a(()=>[r(E,{condobj:e},null,8,["condobj"])]),_:1},8,["modelValue"])])),[[w]])])}}},Q=H(j,[["__scopeId","data-v-5341f7ff"]]);export{Q as default};
