<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>STC 客户管理系统</title>
	</head>
	<body>
		<div id="app"></div>
		<script type="module" src="/src/main.js"></script>
		<script type="text/javascript">
			//网页提示
			function getWebTips(tips1, tips2) {
				document.writeln(
					"<pre style='text-align:center;color:#fff;background-color:#3878AC; height:100%;border:0;position:fixed;top:0;left:0;width:100%;z-index:1234'>" +
						"<h2 style='padding-top:200px;margin:0;font-size: 30px;font-weight: bold '><strong>" +
						tips1 +
						"<br/></strong></h2><h2 style='font-size: 30px;font-weight: bold;margin-top: 10px;'>" +
						tips2 +
						"</h2></pre>"
				);
				document.execCommand("Stop");
			}
			// 获取浏览器名称
			function getBrowserName() {
				var userAgent = navigator.userAgent;
				if (userAgent.indexOf("Opera") > -1 || userAgent.indexOf("OPR") > -1) {
					return "Opera";
				} else if (userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1) {
					return "Unkonwn"; //IE
				} else if (!!window.ActiveXObject || "ActiveXObject" in window) {
					return "Unkonwn"; // IE>=11
				} else if (userAgent.indexOf("Edge") > -1 || userAgent.indexOf("Edg") > -1) {
					return "Edge";
				} else if (userAgent.indexOf("Firefox") > -1) {
					return "Firefox";
				} else if (userAgent.indexOf("Safari") > -1 && userAgent.indexOf("Chrome") == -1) {
					return "Safari";
				} else if (userAgent.indexOf("Chrome") > -1 && userAgent.indexOf("Safari") > -1) {
					return "Chrome";
				} else {
					return "Unkonwn";
				}
			}
			// 获取浏览器名称及其版本号
			function getBrowserNameVersion() {
				var ua = navigator.userAgent.toLowerCase();
				var Sys = {};
				var s;
				var version = "0";
				(s = ua.match(/rv:([\d.]+)\) like gecko/))
					? (Sys.ie = s[1])
					: (s = ua.match(/msie ([\d\.]+)/))
					? (Sys.ie = s[1])
					: (s = ua.match(/(?:edge|edg).([\d\.]+)/))
					? (Sys.edge = s[1])
					: (s = ua.match(/firefox\/([\d\.]+)/))
					? (Sys.firefox = s[1])
					: (s = ua.match(/(?:opera|opr).([\d\.]+)/))
					? (Sys.opera = s[1])
					: (s = ua.match(/chrome\/([\d\.]+)/))
					? (Sys.chrome = s[1])
					: (s = ua.match(/version\/([\d\.]+).*safari/))
					? (Sys.safari = s[1])
					: 0;

				// 根据关系进行判断
				if (Sys.edge) version = Sys.edge;
				if (Sys.firefox) version = Sys.firefox;
				if (Sys.chrome) version = Sys.chrome;
				if (Sys.opera) version = Sys.opera;
				if (Sys.safari) version = Sys.safari;

				if (version.indexOf(".") > -1) {
					version = version.substring(0, version.indexOf("."));
				}
				return Number(version);
			}

			//获取浏览器的语言
			function getLnguage() {
				var lgSrc = (navigator.language || navigator.browserLanguage).toLowerCase();
				if (lgSrc.indexOf("zh") >= 0) {
					return "zh";
				} else {
					return "en";
				}
			}

			var language = getLnguage();
			var browserVersion = getBrowserNameVersion();
			var browserName = getBrowserName();
			if (browserName == "Opera" && browserVersion < 90) {
				var tips1 =
					language == "zh"
						? "当前浏览器版本号低于90，无法运行CRM系统！:("
						: "The current browser version number is lower than 90, unable to run CRM system! :(";
				var tips2 = language == "zh" ? "请升级浏览器版本！" : "Please upgrade the browser version!";
				getWebTips(tips1, tips2);
			} else if (browserName == "Edge" && browserVersion < 79) {
				var tips1 =
					language == "zh"
						? "当前浏览器版本号低于79，无法运行CRM系统！:("
						: "The current browser version number is lower than 79, unable to run CRM system! :(";
				var tips2 = language == "zh" ? "请升级浏览器版本！" : "Please upgrade the browser version!";
				getWebTips(tips1, tips2);
			} else if (browserName == "Firefox" && browserVersion < 78) {
				var tips1 =
					language == "zh"
						? "当前浏览器版本号低于78，无法运行CRM系统！:("
						: "The current browser version number is lower than 78, unable to run CRM system! :(";
				var tips2 = language == "zh" ? "请升级浏览器版本！" : "Please upgrade the browser version!";
				getWebTips(tips1, tips2);
			} else if (browserName == "Safari" && browserVersion < 12) {
				var tips1 =
					language == "zh"
						? "当前浏览器版本号低于12，无法运行CRM系统！:("
						: "The current browser version number is lower than 12, unable to run CRM system! :(";
				var tips2 = language == "zh" ? "请升级浏览器版本！" : "Please upgrade the browser version!";
				getWebTips(tips1, tips2);
			} else if (browserName == "Chrome" && browserVersion < 64) {
				var tips1 =
					language == "zh"
						? "当前浏览器版本号低于64，无法运行CRM系统！:("
						: "The current browser version number is lower than 64, unable to run CRM system! :(";
				var tips2 = language == "zh" ? "请升级浏览器版本！" : "Please upgrade the browser version!";
				getWebTips(tips1, tips2);
			} else {
				if (browserName == "Unkonwn") {
					var tips1 = language == "zh" ? "当前浏览器无法运行CRM系统！ :(" : "The current browser cannot run the CRM system! :(";
					var tips2 =
						language == "zh"
							? "建议使用： <span style='color: blue;'>谷歌、火狐、Edge、Safari。</span>"
							: "Recommended use: <span style='color: blue;'>Chrome、Firefox、Edge、Safari.</span>";
					getWebTips(tips1, tips2);
				}
			}
		</script>
	</body>
</html>
